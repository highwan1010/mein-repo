<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobConnect - Ihre Karriere beginnt hier</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-wrapper">
                <div class="logo">
                    <i class="fas fa-briefcase"></i>
                    <span>JobConnect</span>
                </div>
                <ul class="nav-menu">
                    <li><a href="#home">Home</a></li>
                    <li><a href="jobs.html">Jobs</a></li>
                    <li><a href="#kontakt">Kontakt</a></li>
                </ul>
                <div class="nav-buttons">
                    <span id="loggedInAs" style="display:none; align-items:center; color: var(--gray-dark); font-weight: 600;"></span>
                    <button class="btn-secondary" id="loginBtn" onclick="window.location.href='login.html'">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                    <button class="btn-primary" id="registerBtn" onclick="window.location.href='register.html'">
                        <i class="fas fa-user-plus"></i> Registrieren
                    </button>
                </div>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>Finden Sie Ihren <span class="highlight">Traumjob</span></h1>
                <p class="hero-subtitle">Entdecken Sie handverlesene Stellen, verfolgen Sie Ihre Bewerbungen transparent und erledigen Sie alle nächsten Schritte direkt im Dashboard.</p>
                <div class="feature-list" style="margin-top: 16px; margin-bottom: 0;">
                    <div class="feature-item">
                        <i class="fas fa-compass"></i>
                        <div>
                            <h4>Klare Orientierung</h4>
                            <p>Alle relevanten Jobinformationen kompakt und verständlich an einem Ort.</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-list-check"></i>
                        <div>
                            <h4>Konkrete Aufgaben</h4>
                            <p>Im Dashboard sehen Sie zugewiesene Aufgaben und setzen diese Schritt für Schritt um.</p>
                        </div>
                    </div>
                </div>
                <div style="display:flex; gap:10px; margin-top:18px; flex-wrap:wrap;">
                    <button class="btn-primary" onclick="window.location.href='jobs.html'">Zu den Jobs</button>
                    <button class="btn-secondary" onclick="window.location.href='register.html'">Kostenlos registrieren</button>
                </div>
            </div>

            <div>
                <div class="image-placeholder" style="min-height: 320px; font-size: 82px; margin-bottom: 14px;">
                    <i class="fas fa-rocket"></i>
                </div>
                <div class="job-card">
                    <h3 style="margin-bottom: 10px;"><i class="fas fa-lightbulb"></i> Ihr nächster Schritt</h3>
                    <p style="margin-bottom: 10px;">Öffnen Sie den Tab <strong>Jobs</strong>, wählen Sie passende Stellen und bewerben Sie sich direkt online.</p>
                    <p style="color: var(--gray); margin: 0;">Danach behalten Sie alles im Dashboard inklusive Aufgaben und Status im Blick.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="jobs-section">
        <div class="container">
            <div class="section-header">
                <h2>So funktioniert JobConnect</h2>
                <p>Alle Schritte für Ihre erfolgreiche Bewerbung auf einen Blick</p>
            </div>

            <div class="feature-list" style="max-width: 900px; margin: 0 auto;">
                <div class="feature-item">
                    <i class="fas fa-user-plus"></i>
                    <div>
                        <h4>Konto erstellen</h4>
                        <p>Registrieren Sie sich kostenlos und vervollständigen Sie Ihr Profil in wenigen Minuten.</p>
                    </div>
                </div>
                <div class="feature-item">
                    <i class="fas fa-briefcase"></i>
                    <div>
                        <h4>Jobs im Tab „Jobs“ entdecken</h4>
                        <p>Alle offenen Stellen finden Sie zentral im oberen Tab „Jobs“ mit allen Details.</p>
                    </div>
                </div>
                <div class="feature-item">
                    <i class="fas fa-paper-plane"></i>
                    <div>
                        <h4>Schnell bewerben</h4>
                        <p>Bewerben Sie sich direkt online und behalten Sie den Bewerbungsstatus im Dashboard im Blick.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="jobs-section">
        <div class="container">
            <div class="section-header">
                <h2>Warum JobConnect?</h2>
                <p>Mehr Transparenz und bessere Übersicht für Ihre Karriereplanung</p>
            </div>

            <div class="jobs-grid">
                <div class="job-card">
                    <h3 style="margin-bottom: 10px;"><i class="fas fa-clock"></i> Aktuelle Stellen</h3>
                    <p>Alle Ausschreibungen sind aktuell und werden direkt durch Admin verwaltet.</p>
                </div>
                <div class="job-card">
                    <h3 style="margin-bottom: 10px;"><i class="fas fa-shield-alt"></i> Klare Prozesse</h3>
                    <p>Transparente Bewerbungsabläufe und ein zentraler Status für jede Bewerbung.</p>
                </div>
                <div class="job-card">
                    <h3 style="margin-bottom: 10px;"><i class="fas fa-chart-line"></i> Besserer Überblick</h3>
                    <p>Dashboard, Favoriten und Jobdetails helfen bei schnellen Entscheidungen.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="jobs-section" id="kontakt">
        <div class="container">
            <div class="section-header">
                <h2>Kontakt</h2>
                <p>Sie haben Fragen zur Plattform? Wir helfen gerne weiter.</p>
            </div>

            <div class="card" style="max-width: 760px; margin: 0 auto;">
                <p><strong>E-Mail:</strong> support@jobconnect.de</p>
                <p><strong>Antwortzeit:</strong> innerhalb von 24 Stunden</p>
                <p><strong>Hinweis:</strong> Neue Jobangebote finden Sie im oberen Tab <strong>Jobs</strong>.</p>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>Bereit für den nächsten Karriereschritt?</h2>
                <p>Registrieren Sie sich kostenlos und bewerben Sie sich noch heute auf Ihren Traumjob!</p>
                <button class="btn-primary btn-large" onclick="window.location.href='register.html'">
                    Jetzt kostenlos registrieren
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <div class="footer-logo">
                        <i class="fas fa-briefcase"></i>
                        <span>JobConnect</span>
                    </div>
                    <p>Die führende Job-Plattform für Ihre Karriere. Verbinden Sie sich mit Top-Unternehmen.</p>
                </div>
                <div class="footer-column">
                    <h4>Für Bewerber</h4>
                    <ul>
                        <li><a href="jobs.html">Jobs suchen</a></li>
                        <li><a href="register.html">Registrieren</a></li>
                        <li><a href="login.html">Login</a></li>
                        <li><a href="#">Karriere-Tipps</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Unternehmen</h4>
                    <ul>
                        <li><a href="#">Über uns</a></li>
                        <li><a href="#kontakt">Kontakt</a></li>
                        <li><a href="#">Impressum</a></li>
                        <li><a href="#">Datenschutz</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 JobConnect. Alle Rechte vorbehalten.</p>
            </div>
        </div>
    </footer>

    <script src="config.js"></script>
    <script>
        const API_BASE = (window.APP_CONFIG && window.APP_CONFIG.API_BASE_URL)
            ? String(window.APP_CONFIG.API_BASE_URL).replace(/\/$/, '')
            : '';

        async function updateNavForSession() {
            try {
                const response = await fetch(`${API_BASE}/api/check-session`);
                const data = await response.json();

                if (!data.isAuthenticated) {
                    return;
                }

                let currentUser = null;
                try {
                    const userResponse = await fetch(`${API_BASE}/api/user`);
                    if (userResponse.ok) {
                        currentUser = await userResponse.json();
                    }
                } catch (userError) {
                    console.error('Fehler beim Laden des Benutzers:', userError);
                }

                const loginBtn = document.getElementById('loginBtn');
                const registerBtn = document.getElementById('registerBtn');
                const loggedInAs = document.getElementById('loggedInAs');

                if (loggedInAs && currentUser) {
                    const fullName = `${currentUser.vorname || ''} ${currentUser.nachname || ''}`.trim();
                    loggedInAs.textContent = `Eingeloggt als: ${fullName || currentUser.email || 'Benutzer'}`;
                    loggedInAs.style.display = 'inline-flex';
                }

                if (loginBtn) {
                    loginBtn.innerHTML = '<i class="fas fa-tachometer-alt"></i> Dashboard';
                    loginBtn.onclick = () => {
                        window.location.href = 'dashboard.html';
                    };
                }

                if (registerBtn) {
                    registerBtn.style.display = 'none';
                }
            } catch (error) {
                console.error('Fehler beim Prüfen der Session:', error);
            }
        }

        // Init
        updateNavForSession();
    </script>
</body>
</html>
